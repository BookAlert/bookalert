<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="partials/partials.html :: head('BookAlert Author')">
<!--    <script src="https://kit.fontawesome.com/9f18d3c3fa.js" crossorigin="anonymous"></script>-->
    <meta charset="UTF-8">
    <title>Author</title>
</head>
<nav th:replace="partials/partials.html :: navbar"></nav>
<!-- Bootstrap core CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous">


<body class="authors-body">
<div class="dark-overlay"></div>
<main>
    <div class="b-example-divider"></div>

    <div class="container col-xxl-8 px-4 py-5">
        <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
            <div class="col col-sm-8">
            </div>
            <div class="col-lg-12 text-center text-light">
                <h1 class="display-5 fw-bold lh-1 mb-3" th:text="${author.name}"></h1>
                <div class="gap-2 text-center">
                    <a  class="btn btn-primary btn-lg px-4 me-md-1 mb-1" th:href="@{/profile}">Back</a>
                    <form th:action="@{'/authors/' + ${author.id} + '/delete'}" th:method="POST">
                        <button type="submit" class="btn btn-danger btn-lg px-3 me-md-1">Delete</button>
                    </form>

                </div>
            </div>

        </div>
    </div>

    <section>
        <div class="d-flex flex-wrap flex-grow-1 justify-content-center">
                     <div class="author-book-card p-2" th:each="book : ${books}">
                      <div th:class="${'card book-image bg-transparent text-light p-1 text-center ribbon ribbon-top-left ' + (purchasedBookIds.contains(book.id) ? 'purchased' : savedBookIds.contains(book.id) ? 'saved' : '')}">
                          <span th:class="${'purchased-text ' + (purchasedBookIds.contains(book.id) ? 'd-block' : 'd-none')}">Purchased</span>
                          <span th:class="${'saved-text ' + (savedBookIds.contains(book.id) ? 'd-block' : 'd-none')}">Saved</span>
                           <a th:href="@{'/book/' + ${book.id}}">
                               <img class="book-cover align-self-center border border-light" th:src="${book.artwork_url}">
                           </a>
                            <p th:text="${{#dates.format(book.release_date, 'MM/dd/YYYY')}}" class="lead"></p>

                          <div class="d-flex justify-content-center mb-3" id="card-icons">
                              <button type="button" class="btn btn-link btn-xs save-book align-self-center" data-toggle="tooltip" data-placement="right" title="Save Book" th:data-book-id="${book.id}"><i class="far fa-bookmark fa-lg"></i></button>
                              <button type="button" class="btn btn-link btn-xs mark-purchased align-self-center"  data-toggle="tooltip" data-placement="right" title="Mark Purchased" th:data-book-id="${book.id}"><i class="fas fa-shopping-bag fa-lg"></i></button>
                              <a target="_blank" class="btn btn-link btn-xs purchase-book align-self-center" data-toggle="tooltip" data-placement="right" title="Purchase on iTunes" th:href="${book.itunes_url}" role="button"><i class="fab fa-itunes fa-lg"></i></a>
                          </div>


<!--                                <div style="display: inline-block">-->
<!--                                    <button id="save-button" type="button"  class="btn btn-outline-primary save-book" data-toggle="tooltip" data-placement="bottom" title="Save Book" th:data-book-id="${book.id}"><i class="far fa-bookmark fa-2x"></i></button>-->
<!--                                    <button type="button" id="purchased-button" class="btn btn-outline-info mark-purchased" data-toggle="tooltip" data-placement="bottom" title="Mark Purchased" th:data-book-id="${book.id}"><i class="fas fa-shopping-bag fa-2x"></i></button>-->
<!--                                    <a target="_blank" class="btn btn-outline-success purchase-book" data-toggle="tooltip" data-placement="bottom" title="Purchase on itunes" th:href="${book.itunes_url}" role="button"><i class="fab fa-itunes fa-2x"></i></a>-->
<!--                                 </div>-->
<!--                          <button type="button" class="btn btn-outline-primary btn-sm save-book" th:data-book-id="${book.id}">Save</button>-->
<!--                             <a target="_blank" class="btn btn-outline-success btn-sm purchase-book" th:href="${book.itunes_url}" role="button">Buy from iTunes</a>-->
<!--                            <button type="button" class="btn btn-outline-info btn-sm mark-purchased" th:data-book-id="${book.id}">Purchased</button>-->
                        </div>
                     </div>

             </div>

    </section>
</main>

<footer th:replace="partials/partials.html :: footer"></footer>
<script th:src="@{/js/iziToast.min.js}"></script>
<script th:replace="partials/partials.html :: bootstrap-j-query"></script>
<script th:replace="partials/partials.html :: popper-js"></script>
<script th:replace="partials/partials.html :: bootstrap-js"></script>
<script th:src="@{/js/author.js}"></script>
<script th:replace="partials/partials.html :: font-awesome-js"></script>


</body>
</html>